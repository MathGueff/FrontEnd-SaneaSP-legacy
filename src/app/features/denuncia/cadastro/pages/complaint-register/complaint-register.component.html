<section class="complaint-form-section flex-column">
  <app-form-steps
    [activeStep]="activeStep"
    [steps]="steps"
    (return)="goToStep($event)"
    >
  </app-form-steps>

  <form class="complaint-form form flex-column" [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    @if(activeStep <= steps.length - 1) {
      <header class="form__header">
        <h1 class="form__title">{{ stepTitle }}</h1>
      </header>

      <div class="form__body">
        @switch(activeStep) {
          @case(0) {
            <app-first-step
              [formGroup]="getFormGroup('what')">
            </app-first-step>
          }
          @case(1) {
            <app-second-step
              [formGroup]="getFormGroup('where')">
            </app-second-step>
          }
          @case(2) {
            <app-third-step
              [formGroup]="getFormGroup('how')">
            </app-third-step>
          }
        }
      </div>

      <div class="form__footer">
        <app-form-navigation
          [activeStep]="activeStep"
          [steps]="steps"
          (next)="nextStep()"
          (prev)="previousStep()">
        </app-form-navigation>
      </div>
    } @else {
      <app-review></app-review>
    }
  </form>
</section>
